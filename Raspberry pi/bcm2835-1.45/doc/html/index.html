<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>bcm2835: C library for Broadcom BCM 2835 as used in Raspberry Pi</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">bcm2835
   &#160;<span id="projectnumber">1.45</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">C library for Broadcom BCM 2835 as used in Raspberry Pi </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is a C library for Raspberry Pi (RPi). It provides access to GPIO and other IO functions on the Broadcom BCM 2835 chip, allowing access to the GPIO pins on the 26 pin IDE plug on the RPi board so you can control and interface with various external devices.</p>
<p>It provides functions for reading digital inputs and setting digital outputs, using SPI and I2C, and for accessing the system timers. Pin event detection is supported by polling (interrupts are not supported).</p>
<p>It is C++ compatible, and installs as a header file and non-shared library on any Linux-based distro (but clearly is no use except on Raspberry Pi or another board with BCM 2835).</p>
<p>The version of the package that this documentation refers to can be downloaded from <a href="http://www.airspayce.com/mikem/bcm2835/bcm2835-1.45.tar.gz">http://www.airspayce.com/mikem/bcm2835/bcm2835-1.45.tar.gz</a> You can find the latest version at <a href="http://www.airspayce.com/mikem/bcm2835">http://www.airspayce.com/mikem/bcm2835</a></p>
<p>Several example programs are provided.</p>
<p>Based on data in <a href="http://elinux.org/RPi_Low-level_peripherals">http://elinux.org/RPi_Low-level_peripherals</a> and <a href="http://www.raspberrypi.org/wp-content/uploads/2012/02/BCM2835-ARM-Peripherals.pdf">http://www.raspberrypi.org/wp-content/uploads/2012/02/BCM2835-ARM-Peripherals.pdf</a> and <a href="http://www.scribd.com/doc/101830961/GPIO-Pads-Control2">http://www.scribd.com/doc/101830961/GPIO-Pads-Control2</a></p>
<p>You can also find online help and discussion at <a href="http://groups.google.com/group/bcm2835">http://groups.google.com/group/bcm2835</a> Please use that group for all questions and discussions on this topic. Do not contact the author directly, unless it is to discuss commercial licensing. Before asking a question or reporting a bug, please read <a href="http://www.catb.org/esr/faqs/smart-questions.html">http://www.catb.org/esr/faqs/smart-questions.html</a></p>
<p>Tested on debian6-19-04-2012, 2012-07-15-wheezy-raspbian, 2013-07-26-wheezy-raspbian and Occidentalisv01 CAUTION: it has been observed that when detect enables such as <a class="el" href="group__gpio.html#ga8e990d48db929445ac3e899ca0f5ed07">bcm2835_gpio_len()</a> are used and the pin is pulled LOW it can cause temporary hangs on 2012-07-15-wheezy-raspbian, 2013-07-26-wheezy-raspbian and Occidentalisv01. Reason for this is not yet determined, but we suspect that an interrupt handler is hitting a hard loop on those OSs. If you must use <a class="el" href="group__gpio.html#ga8e990d48db929445ac3e899ca0f5ed07">bcm2835_gpio_len()</a> and friends, make sure you disable the pins with <a class="el" href="group__gpio.html#gac3b51f656f5495dad715ff3c01417aea">bcm2835_gpio_clr_len()</a> and friends after use.</p>
<dl class="section user"><dt>Installation</dt><dd></dd></dl>
<p>This library consists of a single non-shared library and header file, which will be installed in the usual places by make install</p>
<div class="fragment"><div class="line"><span class="preprocessor"># download the latest version of the library, say bcm2835-1.xx.tar.gz, then:</span></div>
<div class="line">tar zxvf bcm2835-1.xx.tar.gz</div>
<div class="line">cd bcm2835-1.xx</div>
<div class="line">./configure</div>
<div class="line">make</div>
<div class="line">sudo make check</div>
<div class="line">sudo make install</div>
</div><!-- fragment --><dl class="section user"><dt>Physical Addresses</dt><dd></dd></dl>
<p>The functions <a class="el" href="group__lowlevel.html#ga5f242135f5088f8c319492426a1ed5e3">bcm2835_peri_read()</a>, <a class="el" href="group__lowlevel.html#ga639da6963ab76e3109b9909f3a9e6171">bcm2835_peri_write()</a> and <a class="el" href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits()</a> are low level peripheral register access functions. They are designed to use physical addresses as described in section 1.2.3 ARM physical addresses of the BCM2835 ARM Peripherals manual. Physical addresses range from 0x20000000 to 0x20FFFFFF for peripherals. The bus addresses for peripherals are set up to map onto the peripheral bus address range starting at 0x7E000000. Thus a peripheral advertised in the manual at bus address 0x7Ennnnnn is available at physical address 0x20nnnnnn.</p>
<p>On RPI 2, the peripheral addresses are different and the bcm2835 library gets them from reading /proc/device-tree/soc/ranges. This is only availble with recent versions of the kernel on RPI 2.</p>
<p>After initialisation, the base address of the various peripheral registers are available with the following externals: bcm2835_gpio bcm2835_pwm bcm2835_clk bcm2835_pads bcm2835_spio0 bcm2835_st bcm2835_bsc0 bcm2835_bsc1</p>
<dl class="section user"><dt>Raspberry Pi 2 (RPI2)</dt><dd></dd></dl>
<p>For this library to work correctly on RPI2, you MUST have the device tree support enabled in the kernel. You should also ensure you are using the latest version of Linux. The library has been tested on RPI2 with 2015-02-16-raspbian-wheezy and ArchLinuxARM-rpi-2 as of 2015-03-29.</p>
<p>When device tree suport is enabled, the file /proc/device-tree/soc/ranges will appear in the file system, and the bcm2835 module relies on its presence to correctly run on RPI2 (it is optional for RPI1). Without device tree support enabled and the presence of this file, it will not work on RPI2.</p>
<p>To enable device tree support:</p>
<div class="fragment"><div class="line">sudo raspi-config</div>
<div class="line"> under Advanced Options - enable Device Tree</div>
<div class="line"> Reboot.</div>
</div><!-- fragment --><dl class="section user"><dt>Pin Numbering</dt><dd></dd></dl>
<p>The GPIO pin numbering as used by RPi is different to and inconsistent with the underlying BCM 2835 chip pin numbering. <a href="http://elinux.org/RPi_BCM2835_GPIOs">http://elinux.org/RPi_BCM2835_GPIOs</a></p>
<p>RPi has a 26 pin IDE header that provides access to some of the GPIO pins on the BCM 2835, as well as power and ground pins. Not all GPIO pins on the BCM 2835 are available on the IDE header.</p>
<p>RPi Version 2 also has a P5 connector with 4 GPIO pins, 5V, 3.3V and Gnd.</p>
<p>The functions in this library are designed to be passed the BCM 2835 GPIO pin number and <em>not</em> the RPi pin number. There are symbolic definitions for each of the available pins that you should use for convenience. See <a class="el" href="group__constants.html#ga63c029bd6500167152db4e57736d0939">RPiGPIOPin</a>.</p>
<dl class="section user"><dt>SPI Pins</dt><dd></dd></dl>
<p>The bcm2835_spi_* functions allow you to control the BCM 2835 SPI0 interface, allowing you to send and received data by SPI (Serial Peripheral Interface). For more information about SPI, see <a href="http://en.wikipedia.org/wiki/Serial_Peripheral_Interface_Bus">http://en.wikipedia.org/wiki/Serial_Peripheral_Interface_Bus</a></p>
<p>When <a class="el" href="group__spi.html#gac888dc9b78b695f6c13eeeaa813c0d82">bcm2835_spi_begin()</a> is called it changes the bahaviour of the SPI interface pins from their default GPIO behaviour in order to support SPI. While SPI is in use, you will not be able to control the state of the SPI pins through the usual bcm2835_spi_gpio_write(). When <a class="el" href="group__spi.html#gad25421b3a4a6ca280dfdd39c94c3279a">bcm2835_spi_end()</a> is called, the SPI pins will all revert to inputs, and can then be configured and controled with the usual bcm2835_gpio_* calls.</p>
<p>The Raspberry Pi GPIO pins used for SPI are:</p>
<ul>
<li>P1-19 (MOSI)</li>
<li>P1-21 (MISO)</li>
<li>P1-23 (CLK)</li>
<li>P1-24 (CE0)</li>
<li>P1-26 (CE1)</li>
</ul>
<dl class="section user"><dt>I2C Pins</dt><dd></dd></dl>
<p>The bcm2835_i2c_* functions allow you to control the BCM 2835 BSC interface, allowing you to send and received data by I2C ("eye-squared cee"; generically referred to as "two-wire interface") . For more information about I?C, see <a href="http://en.wikipedia.org/wiki/I%C2%B2C">http://en.wikipedia.org/wiki/I%C2%B2C</a></p>
<p>The Raspberry Pi V2 GPIO pins used for I2C are:</p>
<ul>
<li>P1-03 (SDA)</li>
<li>P1-05 (SLC)</li>
</ul>
<dl class="section user"><dt>PWM</dt><dd></dd></dl>
<p>The BCM2835 supports hardware PWM on a limited subset of GPIO pins. This bcm2835 library provides functions for configuring and controlling PWM output on these pins.</p>
<p>The BCM2835 contains 2 independent PWM channels (0 and 1), each of which be connnected to a limited subset of GPIO pins. The following GPIO pins may be connected to the following PWM channels (from section 9.5): </p><div class="fragment"><div class="line">GPIO PIN    RPi pin  PWM Channel    ALT FUN</div>
<div class="line">12                    0            0</div>
<div class="line">13                    1            0</div>
<div class="line">18         1-12       0            5</div>
<div class="line">19                    1            5</div>
<div class="line">40                    0            0</div>
<div class="line">41                    1            0</div>
<div class="line">45                    1            0</div>
<div class="line">52                    0            1</div>
<div class="line">53                    1            1</div>
</div><!-- fragment --><p> In order for a GPIO pin to emit output from its PWM channel, it must be set to the Alt Function given above. Note carefully that current versions of the Raspberry Pi only expose one of these pins (GPIO 18 = RPi Pin 1-12) on the IO headers, and therefore this is the only IO pin on the RPi that can be used for PWM. Further it must be set to ALT FUN 5 to get PWM output.</p>
<p>Both PWM channels are driven by the same PWM clock, whose clock dvider can be varied using <a class="el" href="group__pwm.html#ga4487f4e26e57ea3697a57cf52b8de35b">bcm2835_pwm_set_clock()</a>. Each channel can be separately enabled with <a class="el" href="group__pwm.html#ga7e2eddac472b6d81e0ba7dbf165672cb">bcm2835_pwm_set_mode()</a>. The average output of the PWM channel is determined by the ratio of DATA/RANGE for that channel. Use <a class="el" href="group__pwm.html#ga9f5ca04d4f859d96f1205a03c79de7ce">bcm2835_pwm_set_range()</a> to set the range and <a class="el" href="group__pwm.html#ga4f445a60ace471a01d0cc4015bcea1dd">bcm2835_pwm_set_data()</a> to set the data in that ratio</p>
<p>Each PWM channel can run in either Balanced or Mark-Space mode. In Balanced mode, the hardware sends a combination of clock pulses that results in an overall DATA pulses per RANGE pulses. In Mark-Space mode, the hardware sets the output HIGH for DATA clock pulses wide, followed by LOW for RANGE-DATA clock pulses.</p>
<p>The PWM clock can be set to control the PWM pulse widths. The PWM clock is derived from a 19.2MHz clock. You can set any divider, but some common ones are provided by the BCM2835_PWM_CLOCK_DIVIDER_* values of bcm2835PWMClockDivider.</p>
<p>For example, say you wanted to drive a DC motor with PWM at about 1kHz, and control the speed in 1/1024 increments from 0/1024 (stopped) through to 1024/1024 (full on). In that case you might set the clock divider to be 16, and the RANGE to 1024. The pulse repetition frequency will be 1.2MHz/1024 = 1171.875Hz.</p>
<dl class="section user"><dt>SPI</dt><dd></dd></dl>
<p>In order for bcm2835 library SPI to work, you may need to disable the SPI kernel module using:</p>
<div class="fragment"><div class="line">sudo raspi-config</div>
<div class="line"> under Advanced Options - enable Device Tree</div>
<div class="line"> under Advanced Options - disable SPI</div>
<div class="line"> Reboot.</div>
</div><!-- fragment --><dl class="section user"><dt>Real Time performance constraints</dt><dd></dd></dl>
<p>The bcm2835 is a library for user programs (i.e. they run in 'userland'). Such programs are not part of the kernel and are usually subject to paging and swapping by the kernel while it does other things besides running your program. This means that you should not expect to get real-time performance or real-time timing constraints from such programs. In particular, there is no guarantee that the <a class="el" href="group__gpio.html#ga3ffbe079732a995cfacd691f677d9789">bcm2835_delay()</a> and <a class="el" href="group__gpio.html#gade50bd6947463a242783accf91e5b5e4">bcm2835_delayMicroseconds()</a> will return after exactly the time requested. In fact, depending on other activity on the host, IO etc, you might get significantly longer delay times than the one you asked for. So please dont expect to get exactly the time delay you request.</p>
<p>Arjan reports that you can prevent swapping on Linux with the following code fragment:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>sched_param sp;</div>
<div class="line">memset(&amp;sp, 0, <span class="keyword">sizeof</span>(sp));</div>
<div class="line">sp.sched_priority = sched_get_priority_max(SCHED_FIFO);</div>
<div class="line">sched_setscheduler(0, SCHED_FIFO, &amp;sp);</div>
<div class="line">mlockall(MCL_CURRENT | MCL_FUTURE);</div>
</div><!-- fragment --><dl class="section user"><dt>Bindings to other languages</dt><dd></dd></dl>
<p>mikem has made Perl bindings available at CPAN: <a href="http://search.cpan.org/~mikem/Device-BCM2835-1.9/lib/Device/BCM2835.pm">http://search.cpan.org/~mikem/Device-BCM2835-1.9/lib/Device/BCM2835.pm</a> Matthew Baker has kindly made Python bindings available at: https: github.com/mubeta06/py-libbcm2835 Gary Marks has created a Serial Peripheral Interface (SPI) command-line utility for Raspberry Pi, based on the bcm2835 library. The utility, spincl, is licensed under Open Source GNU GPLv3 by iP Solutions (<a href="http://ipsolutionscorp.com">http://ipsolutionscorp.com</a>), as a free download with source included: <a href="http://ipsolutionscorp.com/raspberry-pi-spi-utility/">http://ipsolutionscorp.com/raspberry-pi-spi-utility/</a></p>
<dl class="section user"><dt>Open Source Licensing GPL V2</dt><dd></dd></dl>
<p>This is the appropriate option if you want to share the source code of your application with everyone you distribute it to, and you also want to give them the right to share who uses it. If you wish to use this software under Open Source Licensing, you must contribute all your source code to the open source community in accordance with the GPL Version 2 when your application is distributed. See <a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> and COPYING</p>
<dl class="section user"><dt>Acknowledgements</dt><dd></dd></dl>
<p>Some of this code has been inspired by Dom and Gert. The I2C code has been inspired by Alan Barr.</p>
<dl class="section user"><dt>Revision History</dt><dd></dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 Initial release</dd>
<dd>
1.1 Minor bug fixes</dd>
<dd>
1.2 Added support for SPI</dd>
<dd>
1.3 Added <a class="el" href="group__spi.html#ga06884e9cd71dfe380f846b09f47b7248">bcm2835_spi_transfern()</a></dd>
<dd>
1.4 Fixed a problem that prevented SPI CE1 being used. Reported by David Robinson.</dd>
<dd>
1.5 Added <a class="el" href="group__init.html#ga3a42892f61764132d106a4ae32271002">bcm2835_close()</a> to deinit the library. Suggested by C?sar Ortiz</dd>
<dd>
1.6 Document testing on 2012-07-15-wheezy-raspbian and Occidentalisv01 Functions <a class="el" href="group__gpio.html#ga5b70fa96491b9b1d9b3fb21bfefe2fd7">bcm2835_gpio_ren()</a>, <a class="el" href="group__gpio.html#gac9ea2f8c63f0330f12e1b24444d92e50">bcm2835_gpio_fen()</a>, <a class="el" href="group__gpio.html#ga2cb94aef80b49335057e338d71e46608">bcm2835_gpio_hen()</a> <a class="el" href="group__gpio.html#ga8e990d48db929445ac3e899ca0f5ed07">bcm2835_gpio_len()</a>, <a class="el" href="group__gpio.html#gaa77a0e0d39a6b4423419a16055ce71cc">bcm2835_gpio_aren()</a> and <a class="el" href="group__gpio.html#ga7e1f1686b60043c00327255e523d98f6">bcm2835_gpio_afen()</a> now changes only the pin specified. Other pins that were already previously enabled stay enabled. Added <a class="el" href="group__gpio.html#gaa5826edb1b17dd9095fa3bcae5ded485">bcm2835_gpio_clr_ren()</a>, <a class="el" href="group__gpio.html#ga196b61d8bf334be6acec590de6dc8f88">bcm2835_gpio_clr_fen()</a>, <a class="el" href="group__gpio.html#ga3c3b5297f5c2aeb5d2046a5b6de15d96">bcm2835_gpio_clr_hen()</a> <a class="el" href="group__gpio.html#gac3b51f656f5495dad715ff3c01417aea">bcm2835_gpio_clr_len()</a>, <a class="el" href="group__gpio.html#ga6f3e122871853b34d97b65284cf7cc47">bcm2835_gpio_clr_aren()</a>, <a class="el" href="group__gpio.html#ga8ec8bf224e25ed395d4eecf3ad308ca3">bcm2835_gpio_clr_afen()</a> to clear the enable for individual pins, suggested by Andreas Sundstrom.</dd>
<dd>
1.7 Added bcm2835_spi_transfernb to support different buffers for read and write.</dd>
<dd>
1.8 Improvements to read barrier, as suggested by maddin.</dd>
<dd>
1.9 Improvements contributed by mikew: I noticed that it was mallocing memory for the mmaps on /dev/mem. It's not necessary to do that, you can just mmap the file directly, so I've removed the mallocs (and frees). I've also modified delayMicroseconds() to use nanosleep() for long waits, and a busy wait on a high resolution timer for the rest. This is because I've found that calling nanosleep() takes at least 100-200 us. You need to link using '-lrt' using this version. I've added some unsigned casts to the debug prints to silence compiler warnings I was getting, fixed some typos, and changed the value of BCM2835_PAD_HYSTERESIS_ENABLED to 0x08 as per Gert van Loo's doc at <a href="http://www.scribd.com/doc/101830961/GPIO-Pads-Control2">http://www.scribd.com/doc/101830961/GPIO-Pads-Control2</a> Also added a define for the passwrd value that Gert says is needed to change pad control settings.</dd>
<dd>
1.10 Changed the names of the delay functions to <a class="el" href="group__gpio.html#ga3ffbe079732a995cfacd691f677d9789">bcm2835_delay()</a> and <a class="el" href="group__gpio.html#gade50bd6947463a242783accf91e5b5e4">bcm2835_delayMicroseconds()</a> to prevent collisions with wiringPi. Macros to map delay()-&gt; <a class="el" href="group__gpio.html#ga3ffbe079732a995cfacd691f677d9789">bcm2835_delay()</a> and Macros to map delayMicroseconds()-&gt; <a class="el" href="group__gpio.html#gade50bd6947463a242783accf91e5b5e4">bcm2835_delayMicroseconds()</a>, which can be disabled by defining BCM2835_NO_DELAY_COMPATIBILITY</dd>
<dd>
1.11 Fixed incorrect link to download file</dd>
<dd>
1.12 New GPIO pin definitions for RPi version 2 (which has a different GPIO mapping)</dd>
<dd>
1.13 New GPIO pin definitions for RPi version 2 plug P5 Hardware base pointers are now available (after initialisation) externally as bcm2835_gpio bcm2835_pwm bcm2835_clk bcm2835_pads bcm2835_spi0.</dd>
<dd>
1.14 Now compiles even if CLOCK_MONOTONIC_RAW is not available, uses CLOCK_MONOTONIC instead. Fixed errors in documentation of SPI divider frequencies based on 250MHz clock. Reported by Ben Simpson.</dd>
<dd>
1.15 Added <a class="el" href="group__init.html#ga3a42892f61764132d106a4ae32271002">bcm2835_close()</a> to end of examples as suggested by Mark Wolfe.</dd>
<dd>
1.16 Added bcm2835_gpio_set_multi, bcm2835_gpio_clr_multi and bcm2835_gpio_write_multi to allow a mask of pins to be set all at once. Requested by Sebastian Loncar.</dd>
<dd>
1.17 Added bcm2835_gpio_write_mask. Requested by Sebastian Loncar.</dd>
<dd>
1.18 Added bcm2835_i2c_* functions. Changes to bcm2835_delayMicroseconds: now uses the RPi system timer counter, instead of clock_gettime, for improved accuracy. No need to link with -lrt now. Contributed by Arjan van Vught. </dd>
<dd>
1.19 Removed inlines added by previous patch since they don't seem to work everywhere. Reported by olly.</dd>
<dd>
1.20 Patch from Mark Dootson to close /dev/mem after access to the peripherals has been granted.</dd>
<dd>
1.21 delayMicroseconds is now not susceptible to 32 bit timer overruns. Patch courtesy Jeremy Mortis.</dd>
<dd>
1.22 Fixed incorrect definition of BCM2835_GPFEN0 which broke the ability to set falling edge events. Reported by Mark Dootson.</dd>
<dd>
1.23 Added bcm2835_i2c_set_baudrate and bcm2835_i2c_read_register_rs. Improvements to bcm2835_i2c_read and bcm2835_i2c_write functions to fix ocasional reads not completing. Patched by Mark Dootson.</dd>
<dd>
1.24 Mark Dootson p[atched a problem with his previously submitted code under high load from other processes.</dd>
<dd>
1.25 Updated author and distribution location details to airspayce.com</dd>
<dd>
1.26 Added missing unmapmem for pads in bcm2835_close to prevent a memory leak. Reported by Hartmut Henkel.</dd>
<dd>
1.27 <a class="el" href="group__gpio.html#gac69a029acceb17691826650d8f188cd8">bcm2835_gpio_set_pad()</a> no longer needs BCM2835_PAD_PASSWRD: it is now automatically included. Added suport for PWM mode with bcm2835_pwm_* functions.</dd>
<dd>
1.28 Fixed a problem where <a class="el" href="group__spi.html#ga1b668c248fb9c09239bb59b7a2fad902">bcm2835_spi_writenb()</a> would have problems with transfers of more than 64 bytes dues to read buffer filling. Patched by Peter Würtz.</dd>
<dd>
1.29 Further fix to SPI from Peter Würtz.</dd>
<dd>
1.30 10 microsecond delays from bcm2835_spi_transfer and bcm2835_spi_transfern for significant performance improvements, Patch by Alan Watson.</dd>
<dd>
1.31 Fix a GCC warning about dummy variable, patched by Alan Watson. Thanks.</dd>
<dd>
1.32 Added option I2C_V1 definition to compile for version 1 RPi. By default I2C code is generated for the V2 RPi which has SDA1 and SCL1 connected. Contributed by Malcolm Wiles based on work by Arvi Govindaraj.</dd>
<dd>
1.33 Added command line utilities i2c and gpio to examples. Contributed by Shahrooz Shahparnia.</dd>
<dd>
1.34 Added <a class="el" href="group__i2c.html#gabb58ad603bf1ebb4eac2d439820809be">bcm2835_i2c_write_read_rs()</a> which writes an arbitrary number of bytes, sends a repeat start, and reads from the device. Contributed by Eduardo Steinhorst.</dd>
<dd>
1.35 Fix build errors when compiled under Qt. Also performance improvements with SPI transfers. Contributed b Udo Klaas.</dd>
<dd>
1.36 Make automake's test runner detect that we're skipping tests when not root, the second one makes us skip the test when using fakeroot (as used when building Debian packages). Contributed by Guido Günther.</dd>
<dd>
1.37 Moved confiure.in to configure.ac as receommnded by autoreconf.<br />
 Improvements to bcm2835_st_read to account for possible timer overflow, contributed by 'Ed'.<br />
 Added definitions for Raspberry Pi B+ J8 header GPIO pins.<br />
</dd>
<dd>
1.38 Added bcm2835_regbase for the benefit of C# wrappers, patch by Frank Hommers <br />
</dd>
<dd>
1.39 Beta version of RPi2 compatibility. Not tested here on RPi2 hardware. Testers please confirm correct operation on RPi2.<br />
 Unneccessary 'volatile' qualifiers removed from all variables and signatures.<br />
 Removed unsupportable PWM dividers, based on a report from Christophe Cecillon.<br />
 Minor improvements to spi.c example.<br />
</dd>
<dd>
1.40 Correct operation on RPi2 has been confirmed.<br />
 Fixed a number of compiler errors and warnings that occur when <a class="el" href="bcm2835_8h_source.html">bcm2835.h</a> is included in code compiled with -Wall -Woverflow -Wstrict-overflow -Wshadow -Wextra -pedantic. Reported by tlhackque.<br />
 Fixed a problem where calling bcm2835_delayMicroseconds loops forever when debug is set. Reported by tlhackque.<br />
 Reinstated use of volatile in 2 functions where there was a danger of lost reads or writes. Reported by tlhackque.<br />
</dd>
<dd>
1.41 Added BCM2835_VERSION macro and new function <a class="el" href="group__init.html#ga2ae0550a2d7a33eb18c8493a03e29c42">bcm2835_version()</a>; Requested by tlhackque.<br />
 Improvements to peripheral memory barriers as suggested by tlhackque.<br />
 Reinstated some necessary volatile declarations as requested by tlhackque.<br />
</dd>
<dd>
1.42 Further improvements to memory barriers with the patient assistance and patches of tlhackque.<br />
</dd>
<dd>
1.43 Fixed problems with compiling barriers on RPI 2 with Arch Linux and gcc 4.9.2. Reported and patched by Lars Christensen.<br />
 Testing on RPI 2, with ArchLinuxARM-rpi-2-latest and 2015-02-16-raspbian-wheezy.<br />
</dd>
<dd>
1.44 Added documention about the need for device tree to be enabled on RPI2.<br />
 Improvements to detection of availablity of DMB instruction based on value of __ARM_ARCH macro.<br />
</dd>
<dd>
1.45 Fixed an error in the pad group offsets that would prevent <a class="el" href="group__gpio.html#gac69a029acceb17691826650d8f188cd8">bcm2835_gpio_set_pad()</a> and <a class="el" href="group__gpio.html#gaba51cd52ba75cbc9b03f3d629ad931a1">bcm2835_gpio_pad()</a> working correctly with non-0 pad groups. Reported by Guido.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Mike McCauley (<a href="#" onclick="location.href='mai'+'lto:'+'mik'+'em'+'@ai'+'rs'+'pay'+'ce'+'.co'+'m'; return false;">mikem<span style="display: none;">.nosp@m.</span>@air<span style="display: none;">.nosp@m.</span>spayc<span style="display: none;">.nosp@m.</span>e.co<span style="display: none;">.nosp@m.</span>m</a>) DO NOT CONTACT THE AUTHOR DIRECTLY: USE THE LISTS </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
